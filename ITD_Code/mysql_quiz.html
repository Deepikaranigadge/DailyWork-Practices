<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MySQL Quiz - Test Your Knowledge</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .quiz-container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 25px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .quiz-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .quiz-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .quiz-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .quiz-header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .progress-container {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .progress {
            height: 10px;
            border-radius: 10px;
            background-color: #e9ecef;
            overflow: visible;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
            transition: width 0.5s ease;
            position: relative;
        }

        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            font-size: 0.9rem;
            color: #6c757d;
            font-weight: 500;
        }

        .question-container {
            padding: 40px;
            min-height: 400px;
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .question-container.active {
            display: block;
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .options-container {
            display: grid;
            gap: 15px;
        }

        .option {
            background: #f8f9fa;
            border: 3px solid transparent;
            border-radius: 15px;
            padding: 20px 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
        }

        .option::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            transition: width 0.3s ease;
        }

        .option:hover {
            border-color: #667eea;
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .option:hover::before {
            width: 100%;
        }

        .option-letter {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            margin-right: 20px;
            flex-shrink: 0;
            position: relative;
            z-index: 1;
        }

        .option-text {
            flex: 1;
            font-size: 1.05rem;
            color: #4a5568;
            position: relative;
            z-index: 1;
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
        }

        .option.selected .option-letter {
            background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
            transform: scale(1.1);
        }

        .option.correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            animation: correctPulse 0.5s ease;
        }

        .option.correct .option-letter {
            background: #10b981;
        }

        .option.wrong {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            animation: wrongShake 0.5s ease;
        }

        .option.wrong .option-letter {
            background: #ef4444;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        .quiz-controls {
            padding: 30px 40px;
            background: #f8f9fa;
            border-top: 1px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .btn-quiz {
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn-previous {
            background: #6c757d;
            color: white;
        }

        .btn-previous:hover {
            background: #5a6268;
            transform: translateX(-5px);
        }

        .btn-next, .btn-submit {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-next:hover, .btn-submit:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-quiz:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }

        .start-screen, .results-screen {
            padding: 60px 40px;
            text-align: center;
        }

        .start-screen h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .start-screen p {
            font-size: 1.1rem;
            color: #6c757d;
            margin-bottom: 30px;
        }

        .quiz-info {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .quiz-info-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            font-size: 1.05rem;
        }

        .quiz-info-item:last-child {
            margin-bottom: 0;
        }

        .quiz-info-item i {
            font-size: 1.5rem;
            margin-right: 15px;
            color: #667eea;
        }

        .btn-start {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .btn-start:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .results-screen h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 20px;
        }

        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 30px auto;
            color: white;
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
            animation: scaleIn 0.6s ease-out;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .score-circle .score {
            font-size: 3.5rem;
            font-weight: 700;
        }

        .score-circle .score-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        .results-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
        }

        .stat-card i {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .stat-card .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-card .stat-label {
            font-size: 0.9rem;
            color: #6c757d;
        }

        .stat-card.correct i { color: #10b981; }
        .stat-card.correct .stat-value { color: #10b981; }

        .stat-card.wrong i { color: #ef4444; }
        .stat-card.wrong .stat-value { color: #ef4444; }

        .stat-card.percentage i { color: #667eea; }
        .stat-card.percentage .stat-value { color: #667eea; }

        .btn-restart, .btn-review {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 50px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
        }

        .btn-restart:hover, .btn-review:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-review {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .btn-review:hover {
            box-shadow: 0 10px 25px rgba(16, 185, 129, 0.4);
        }

        .performance-message {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-size: 1.1rem;
            color: #2d3748;
        }

        @media (max-width: 768px) {
            .quiz-header h1 {
                font-size: 1.8rem;
            }

            .question-text {
                font-size: 1.2rem;
            }

            .quiz-controls {
                flex-direction: column;
                gap: 15px;
            }

            .btn-quiz {
                width: 100%;
                justify-content: center;
            }

            .results-stats {
                grid-template-columns: 1fr;
            }

            .start-screen h2, .results-screen h2 {
                font-size: 1.8rem;
            }
        }

        .explanation {
            background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
            border-left: 4px solid #3b82f6;
            border-radius: 10px;
            padding: 15px 20px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s ease-in;
        }

        .explanation.show {
            display: block;
        }

        .explanation-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .explanation-text {
            color: #1e3a8a;
            line-height: 1.6;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #6c757d;
            font-weight: 500;
        }

        .timer i {
            font-size: 1.2rem;
        }

        .hidden {
            display: none !important;
        }

        .review-list {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            text-align: left;
        }

        .review-item {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 5px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .review-item:hover {
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .review-item.correct {
            border-left-color: #10b981;
        }

        .review-item.wrong {
            border-left-color: #ef4444;
        }

        .review-number {
            font-size: 1.5rem;
            font-weight: 700;
            color: #6c757d;
            min-width: 40px;
        }

        .review-status {
            font-size: 2rem;
            min-width: 40px;
        }

        .review-item.correct .review-status {
            color: #10b981;
        }

        .review-item.wrong .review-status {
            color: #ef4444;
        }

        .review-question {
            flex: 1;
        }

        .review-question-text {
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
        }

        .answer-details {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            padding: 15px;
            margin-top: 10px;
            font-size: 0.95rem;
        }

        .answer-details .label {
            font-weight: 600;
            margin-right: 8px;
        }

        .answer-details .your-answer {
            color: #ef4444;
        }

        .answer-details .correct-answer-text {
            color: #10b981;
        }

        .review-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .review-header h3 {
            color: #2d3748;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .review-header p {
            color: #6c757d;
        }

        .btn-back-results {
            background: #6c757d;
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-back-results:hover {
            background: #5a6268;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="quiz-container">
        <!-- Quiz Header -->
        <div class="quiz-header">
            <h1><i class="bi bi-database"></i> MySQL Quiz</h1>
            <p>Test your MySQL knowledge with 15 challenging questions</p>
        </div>

        <!-- Start Screen -->
        <div id="startScreen" class="start-screen">
            <h2>Welcome to MySQL Quiz!</h2>
            <p>Challenge yourself with questions covering MySQL fundamentals, queries, optimization, and more.</p>
            
            <div class="quiz-info">
                <div class="quiz-info-item">
                    <i class="bi bi-question-circle"></i>
                    <span><strong>15 Questions</strong> covering various MySQL topics</span>
                </div>
                <div class="quiz-info-item">
                    <i class="bi bi-clock"></i>
                    <span><strong>No Time Limit</strong> - Take your time to think</span>
                </div>
                <div class="quiz-info-item">
                    <i class="bi bi-trophy"></i>
                    <span><strong>Instant Results</strong> with detailed explanations</span>
                </div>
                <div class="quiz-info-item">
                    <i class="bi bi-graph-up"></i>
                    <span><strong>Track Your Progress</strong> as you go</span>
                </div>
            </div>

            <button class="btn-start" onclick="startQuiz()">
                Start Quiz <i class="bi bi-arrow-right"></i>
            </button>
        </div>

        <!-- Progress Bar -->
        <div id="progressContainer" class="progress-container hidden">
            <div class="progress">
                <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%"></div>
            </div>
            <div class="progress-text">
                <span id="progressText">Question 1 of 15</span>
                <span class="timer" id="timer">
                    <i class="bi bi-stopwatch"></i>
                    <span id="timeElapsed">0:00</span>
                </span>
            </div>
        </div>

        <!-- Question Screens -->
        <div id="questionsContainer"></div>

        <!-- Quiz Controls -->
        <div id="quizControls" class="quiz-controls hidden">
            <button class="btn-quiz btn-previous" onclick="previousQuestion()" id="btnPrevious">
                <i class="bi bi-arrow-left"></i> Previous
            </button>
            <button class="btn-quiz btn-next" onclick="nextQuestion()" id="btnNext" disabled>
                Next <i class="bi bi-arrow-right"></i>
            </button>
            <button class="btn-quiz btn-submit hidden" onclick="submitQuiz()" id="btnSubmit" disabled>
                Submit Quiz <i class="bi bi-check-circle"></i>
            </button>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="results-screen hidden">
            <h2>Quiz Completed! ðŸŽ‰</h2>
            
            <div class="score-circle">
                <div class="score" id="finalScore">0/15</div>
                <div class="score-label">Your Score</div>
            </div>

            <div class="performance-message" id="performanceMessage"></div>

            <div class="results-stats">
                <div class="stat-card correct">
                    <i class="bi bi-check-circle-fill"></i>
                    <div class="stat-value" id="correctAnswers">0</div>
                    <div class="stat-label">Correct</div>
                </div>
                <div class="stat-card wrong">
                    <i class="bi bi-x-circle-fill"></i>
                    <div class="stat-value" id="wrongAnswers">0</div>
                    <div class="stat-label">Wrong</div>
                </div>
                <div class="stat-card percentage">
                    <i class="bi bi-percent"></i>
                    <div class="stat-value" id="percentageScore">0%</div>
                    <div class="stat-label">Percentage</div>
                </div>
            </div>

            <div>
                <button class="btn-review" onclick="reviewAnswers()">
                    <i class="bi bi-eye"></i> Review Answers
                </button>
                <button class="btn-restart" onclick="restartQuiz()">
                    <i class="bi bi-arrow-clockwise"></i> Restart Quiz
                </button>
            </div>
        </div>

        <!-- Review Screen -->
        <div id="reviewScreen" class="results-screen hidden">
            <div class="review-header">
                <h3><i class="bi bi-clipboard-check"></i> Review Your Answers</h3>
                <p>Click on any question to view details</p>
            </div>

            <div class="review-list" id="reviewList">
                <!-- Review items will be inserted here -->
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn-back-results" onclick="backToResults()">
                    <i class="bi bi-arrow-left"></i> Back to Results
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Quiz Data
        const quizData = [
            {
                question: "What does SQL stand for?",
                options: [
                    "Structured Query Language",
                    "Simple Question Language",
                    "Sequential Query Logic",
                    "Systematic Query Language"
                ],
                correct: 0,
                explanation: "SQL stands for Structured Query Language. It is a standard language for managing and manipulating relational databases."
            },
            {
                question: "Which MySQL statement is used to retrieve data from a database?",
                options: [
                    "GET",
                    "FETCH",
                    "SELECT",
                    "RETRIEVE"
                ],
                correct: 2,
                explanation: "The SELECT statement is used to retrieve data from one or more tables in a MySQL database. It's one of the most frequently used SQL commands."
            },
            {
                question: "What is the default port number for MySQL?",
                options: [
                    "8080",
                    "3306",
                    "5432",
                    "27017"
                ],
                correct: 1,
                explanation: "MySQL uses port 3306 by default. This is the standard port for MySQL server connections."
            },
            {
                question: "Which clause is used to filter records in SQL?",
                options: [
                    "FILTER",
                    "WHERE",
                    "HAVING",
                    "SELECT"
                ],
                correct: 1,
                explanation: "The WHERE clause is used to filter records and extract only those that fulfill a specified condition. HAVING is used with GROUP BY for aggregate functions."
            },
            {
                question: "What does the PRIMARY KEY constraint do?",
                options: [
                    "Allows NULL values",
                    "Uniquely identifies each record in a table",
                    "Creates a foreign key relationship",
                    "Sorts the data automatically"
                ],
                correct: 1,
                explanation: "A PRIMARY KEY constraint uniquely identifies each record in a database table. It cannot contain NULL values and each table can have only one primary key."
            },
            {
                question: "Which JOIN returns all records from the left table and matched records from the right table?",
                options: [
                    "INNER JOIN",
                    "RIGHT JOIN",
                    "LEFT JOIN",
                    "FULL OUTER JOIN"
                ],
                correct: 2,
                explanation: "LEFT JOIN (or LEFT OUTER JOIN) returns all records from the left table and the matched records from the right table. If no match, NULL values are returned for right table columns."
            },
            {
                question: "What is the purpose of the AUTO_INCREMENT attribute in MySQL?",
                options: [
                    "To decrease values automatically",
                    "To generate unique numbers automatically",
                    "To sort data in ascending order",
                    "To create indexes automatically"
                ],
                correct: 1,
                explanation: "AUTO_INCREMENT is used to generate a unique number automatically whenever a new record is inserted into a table. It's commonly used for primary key columns."
            },
            {
                question: "Which SQL command is used to add new data to a database?",
                options: [
                    "ADD",
                    "INSERT",
                    "CREATE",
                    "PUT"
                ],
                correct: 1,
                explanation: "The INSERT statement is used to add new rows of data to a table in the database. The syntax is: INSERT INTO table_name (columns) VALUES (values)."
            },
            {
                question: "What does the GROUP BY clause do?",
                options: [
                    "Groups rows with the same values into summary rows",
                    "Sorts data in ascending order",
                    "Filters individual rows",
                    "Joins multiple tables"
                ],
                correct: 0,
                explanation: "The GROUP BY clause groups rows that have the same values in specified columns into summary rows. It's often used with aggregate functions like COUNT, MAX, MIN, SUM, AVG."
            },
            {
                question: "Which storage engine is the default in MySQL 5.5 and later versions?",
                options: [
                    "MyISAM",
                    "InnoDB",
                    "MEMORY",
                    "CSV"
                ],
                correct: 1,
                explanation: "InnoDB is the default storage engine in MySQL 5.5 and later. It supports transactions, foreign keys, and provides better crash recovery compared to MyISAM."
            },
            {
                question: "What is the purpose of an INDEX in MySQL?",
                options: [
                    "To store backup data",
                    "To speed up data retrieval operations",
                    "To encrypt data",
                    "To compress data"
                ],
                correct: 1,
                explanation: "An INDEX is used to speed up data retrieval operations on a database table. It works like a book index, allowing the database to find data without scanning every row."
            },
            {
                question: "Which MySQL function returns the current date and time?",
                options: [
                    "GETDATE()",
                    "CURRENT_TIMESTAMP()",
                    "DATE()",
                    "TIME()"
                ],
                correct: 1,
                explanation: "CURRENT_TIMESTAMP() (or NOW()) returns the current date and time. GETDATE() is used in SQL Server, not MySQL."
            },
            {
                question: "What is a FOREIGN KEY constraint used for?",
                options: [
                    "To create unique values",
                    "To link two tables together",
                    "To sort data",
                    "To encrypt data"
                ],
                correct: 1,
                explanation: "A FOREIGN KEY is used to link two tables together. It's a field in one table that refers to the PRIMARY KEY in another table, maintaining referential integrity."
            },
            {
                question: "Which SQL statement is used to modify existing data in a database?",
                options: [
                    "MODIFY",
                    "CHANGE",
                    "UPDATE",
                    "ALTER"
                ],
                correct: 2,
                explanation: "The UPDATE statement is used to modify existing records in a table. It's used with SET to specify new values and WHERE to specify which records to update."
            },
            {
                question: "What does the DISTINCT keyword do in a SELECT statement?",
                options: [
                    "Sorts the results",
                    "Removes duplicate records from the result set",
                    "Counts the number of records",
                    "Joins multiple tables"
                ],
                correct: 1,
                explanation: "The DISTINCT keyword is used to return only unique (distinct) values in the result set, eliminating duplicate rows from the output."
            }
        ];

        // Quiz State
        let currentQuestion = 0;
        let userAnswers = [];
        let score = 0;
        let startTime;
        let timerInterval;
        let quizSubmitted = false;
        let reviewMode = false;

        // Initialize Quiz
        function startQuiz() {
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('progressContainer').classList.remove('hidden');
            document.getElementById('quizControls').classList.remove('hidden');
            
            createQuestionScreens();
            showQuestion(0);
            startTimer();
        }

        // Create all question screens
        function createQuestionScreens() {
            const container = document.getElementById('questionsContainer');
            
            quizData.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-container';
                questionDiv.id = `question-${index}`;
                
                let optionsHTML = '';
                q.options.forEach((option, optIndex) => {
                    const letter = String.fromCharCode(65 + optIndex); // A, B, C, D
                    optionsHTML += `
                        <div class="option" onclick="selectOption(${index}, ${optIndex})">
                            <div class="option-letter">${letter}</div>
                            <div class="option-text">${option}</div>
                        </div>
                    `;
                });
                
                questionDiv.innerHTML = `
                    <div class="question-number">Question ${index + 1} of ${quizData.length}</div>
                    <div class="question-text">${q.question}</div>
                    <div class="options-container" id="options-${index}">
                        ${optionsHTML}
                    </div>
                    <div class="explanation" id="explanation-${index}">
                        <div class="explanation-title">
                            <i class="bi bi-lightbulb"></i>
                            Explanation
                        </div>
                        <div class="explanation-text">${q.explanation}</div>
                    </div>
                `;
                
                container.appendChild(questionDiv);
            });
        }

        // Show specific question
        function showQuestion(index) {
            document.querySelectorAll('.question-container').forEach(q => {
                q.classList.remove('active');
            });
            
            document.getElementById(`question-${index}`).classList.add('active');
            currentQuestion = index;
            
            updateProgress();
            updateButtons();
            
            // If answer was already selected, show it
            if (userAnswers[index] !== undefined) {
                const options = document.querySelectorAll(`#options-${index} .option`);
                options[userAnswers[index]].classList.add('selected');
            }
        }

        // Select an option
        function selectOption(questionIndex, optionIndex) {
            // Don't allow selection if quiz is submitted and not in review mode
            if (quizSubmitted && !reviewMode) {
                return;
            }
            
            // In review mode, don't allow changing answers
            if (reviewMode) {
                return;
            }
            
            // Remove previous selection
            const options = document.querySelectorAll(`#options-${questionIndex} .option`);
            options.forEach(opt => opt.classList.remove('selected'));
            
            // Add new selection
            options[optionIndex].classList.add('selected');
            userAnswers[questionIndex] = optionIndex;
            
            // Enable next/submit button
            if (currentQuestion === quizData.length - 1) {
                document.getElementById('btnSubmit').disabled = false;
            } else {
                document.getElementById('btnNext').disabled = false;
            }
        }

        // Next question
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                showQuestion(currentQuestion + 1);
            }
        }

        // Previous question
        function previousQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        // Update progress bar
        function updateProgress() {
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
        }

        // Update button states
        function updateButtons() {
            const btnPrevious = document.getElementById('btnPrevious');
            const btnNext = document.getElementById('btnNext');
            const btnSubmit = document.getElementById('btnSubmit');
            
            // Previous button
            btnPrevious.disabled = currentQuestion === 0;
            
            // Next/Submit buttons
            if (currentQuestion === quizData.length - 1) {
                btnNext.classList.add('hidden');
                btnSubmit.classList.remove('hidden');
                btnSubmit.disabled = userAnswers[currentQuestion] === undefined;
            } else {
                btnNext.classList.remove('hidden');
                btnSubmit.classList.add('hidden');
                btnNext.disabled = userAnswers[currentQuestion] === undefined;
            }
        }

        // Submit quiz
        function submitQuiz() {
            stopTimer();
            quizSubmitted = true;
            calculateScore();
            showAnswers();
            showResults();
        }

        // Calculate score
        function calculateScore() {
            score = 0;
            quizData.forEach((q, index) => {
                if (userAnswers[index] === q.correct) {
                    score++;
                }
            });
        }

        // Show correct/wrong answers
        function showAnswers() {
            quizData.forEach((q, index) => {
                const options = document.querySelectorAll(`#options-${index} .option`);
                const userAnswer = userAnswers[index];
                
                // Mark correct answer
                options[q.correct].classList.add('correct');
                
                // Mark wrong answer if user selected it
                if (userAnswer !== undefined && userAnswer !== q.correct) {
                    options[userAnswer].classList.add('wrong');
                }
                
                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');
                
                // Disable clicking
                options.forEach(opt => {
                    opt.style.pointerEvents = 'none';
                });
            });
        }

        // Show results screen
        function showResults() {
            document.getElementById('progressContainer').classList.add('hidden');
            document.getElementById('questionsContainer').classList.add('hidden');
            document.getElementById('quizControls').classList.add('hidden');
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            const percentage = Math.round((score / quizData.length) * 100);
            
            document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
            document.getElementById('correctAnswers').textContent = score;
            document.getElementById('wrongAnswers').textContent = quizData.length - score;
            document.getElementById('percentageScore').textContent = percentage + '%';
            
            // Performance message
            let message = '';
            if (percentage >= 90) {
                message = 'ðŸ† Outstanding! You have excellent MySQL knowledge!';
            } else if (percentage >= 75) {
                message = 'ðŸŽ¯ Great job! You have a strong understanding of MySQL!';
            } else if (percentage >= 60) {
                message = 'ðŸ‘ Good effort! Keep practicing to improve your skills!';
            } else if (percentage >= 40) {
                message = 'ðŸ“š Not bad, but there\'s room for improvement. Review the explanations!';
            } else {
                message = 'ðŸ’ª Keep learning! Review the basics and try again!';
            }
            
            document.getElementById('performanceMessage').textContent = message;
        }

        // Restart quiz
        function restartQuiz() {
            // Reset state
            currentQuestion = 0;
            userAnswers = [];
            score = 0;
            quizSubmitted = false;
            reviewMode = false;
            
            // Clear question screens
            document.getElementById('questionsContainer').innerHTML = '';
            
            // Hide results and review
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.add('hidden');
            
            // Show start screen
            document.getElementById('startScreen').classList.remove('hidden');
            
            // Reset timer
            if (timerInterval) {
                clearInterval(timerInterval);
            }
        }

        // Review answers
        function reviewAnswers() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('reviewScreen').classList.remove('hidden');
            
            createReviewList();
        }

        // Create review list
        function createReviewList() {
            const reviewList = document.getElementById('reviewList');
            reviewList.innerHTML = '';
            
            quizData.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === q.correct;
                
                const reviewItem = document.createElement('div');
                reviewItem.className = `review-item ${isCorrect ? 'correct' : 'wrong'}`;
                reviewItem.onclick = () => goToQuestion(index);
                
                const statusIcon = isCorrect ? 'âœ“' : 'âœ—';
                
                let answerDetails = '';
                if (!isCorrect) {
                    answerDetails = `
                        <div class="answer-details">
                            <div>
                                <span class="label">Your answer:</span>
                                <span class="your-answer">${q.options[userAnswer]}</span>
                            </div>
                            <div>
                                <span class="label">Correct answer:</span>
                                <span class="correct-answer-text">${q.options[q.correct]}</span>
                            </div>
                        </div>
                    `;
                } else {
                    answerDetails = `
                        <div class="answer-details">
                            <div>
                                <span class="label" style="color: #10b981;">âœ“ Correct answer:</span>
                                <span class="correct-answer-text">${q.options[q.correct]}</span>
                            </div>
                        </div>
                    `;
                }
                
                reviewItem.innerHTML = `
                    <div class="review-number">${index + 1}</div>
                    <div class="review-status">${statusIcon}</div>
                    <div class="review-question">
                        <div class="review-question-text">${q.question}</div>
                        ${answerDetails}
                    </div>
                    <i class="bi bi-arrow-right" style="font-size: 1.5rem; color: #6c757d;"></i>
                `;
                
                reviewList.appendChild(reviewItem);
            });
        }

        // Go to specific question in review mode
        function goToQuestion(index) {
            reviewMode = true;
            
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('questionsContainer').classList.remove('hidden');
            document.getElementById('progressContainer').classList.remove('hidden');
            document.getElementById('quizControls').classList.remove('hidden');
            
            // Update button text and functionality
            document.getElementById('btnNext').innerHTML = 'Next <i class="bi bi-arrow-right"></i>';
            document.getElementById('btnSubmit').classList.add('hidden');
            
            // Add back to review button
            if (!document.getElementById('btnBackReview')) {
                const backBtn = document.createElement('button');
                backBtn.id = 'btnBackReview';
                backBtn.className = 'btn-quiz btn-back-results';
                backBtn.innerHTML = '<i class="bi bi-arrow-left"></i> Back to Review';
                backBtn.onclick = backToReview;
                document.getElementById('quizControls').insertBefore(backBtn, document.getElementById('quizControls').firstChild);
            }
            
            showQuestion(index);
        }

        // Back to review screen
        function backToReview() {
            document.getElementById('questionsContainer').classList.add('hidden');
            document.getElementById('progressContainer').classList.add('hidden');
            document.getElementById('quizControls').classList.add('hidden');
            document.getElementById('reviewScreen').classList.remove('hidden');
        }

        // Back to results
        function backToResults() {
            document.getElementById('reviewScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
        }

        // Timer functions
        function startTimer() {
            startTime = Date.now();
            timerInterval = setInterval(updateTimer, 1000);
        }

        function updateTimer() {
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            document.getElementById('timeElapsed').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function stopTimer() {
            if (timerInterval) {
                clearInterval(timerInterval);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('startScreen').classList.contains('hidden') && 
                document.getElementById('resultsScreen').classList.contains('hidden')) {
                
                if (e.key === 'ArrowRight' && !document.getElementById('btnNext').disabled) {
                    nextQuestion();
                } else if (e.key === 'ArrowLeft' && !document.getElementById('btnPrevious').disabled) {
                    previousQuestion();
                } else if (e.key >= '1' && e.key <= '4') {
                    const optionIndex = parseInt(e.key) - 1;
                    if (optionIndex < quizData[currentQuestion].options.length) {
                        selectOption(currentQuestion, optionIndex);
                    }
                }
            }
        });
    </script>
</body>
</html>
